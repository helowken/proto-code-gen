package org.proto.core;

import org.junit.Test;

public class ProtoFileCT {


    @Test
    public void testTypeCastFile() throws Throwable {
//        Class<?> clazz = Old.class;
//        ProtoSerdesFactory.config(clazz, () ->
//                ProtoUtils.createWrapper(clazz,
//                        "Proto" + clazz.getSimpleName(),
//                        FieldsCollector.getFieldWrappers(clazz, ProtoOld.class)
//                )
//        );



//        ProtoSerdes<Old> serdes = ProtoSerdesFactory.getInstance().getSerdes(Old.class);
//        Old old = new Old();
//        old.a = 3;
//        old.a2 = 3;
//        Map<String, Short> a3 = new HashMap<>();
//        a3.put("a", (short) 1);
//        a3.put("b", (short) 2);
//        a3.put("c", (short) 3);
//        old.a3 = a3;
//
//        old.c = 'c';
//        old.c2 = 'c';
//        Map<String, Character> c3 = new HashMap<>();
//        c3.put("a", 'a');
//        c3.put("b", 'b');
//        c3.put("c", 'c');
//        old.c3 = c3;
//
//        old.b = 2;
//        old.b2 = 2;
//        Map<String, Byte> b3 = new HashMap<>();
//        b3.put("a", (byte) 1);
//        b3.put("b", (byte) 2);
//        b3.put("c", (byte) 3);
//        old.b3 = b3;
//
//        Old to = serdes.toPojo(serdes.toProto(old));
//        assertEquals(to, old);
//        System.out.println(to);
    }

}
